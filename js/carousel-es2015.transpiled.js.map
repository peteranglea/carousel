{"version":3,"sources":["carousel-es2015.js"],"names":[],"mappings":"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","file":"carousel-es2015.transpiled.js","sourcesContent":["/**\n * IN PROGRESS: Gonna convert this to ES6/ES2015\n * Teaching myself a new trick\n */\nclass Carousel {\n\tconstructor(container, contentFile) {\n\t\tthis.container = $(container);\n\n\t\t// Find content JSON\n\t\tlet obj = this;\n\t\t$.getJSON(contentFile, function(data) {\n\t\t\tif (data.length > 0) {\n\t\t\t\tobj.data = data;\n\t\t\t\tobj.init();\n\t\t\t} else {\n\t\t\t\tconsole.log('No data retrieved.');\n\t\t\t}\n\t\t});\n\t}\n\n\t// Initialize object, generate markup, assign interactions, etc.\n\tinit() {\n\t\tlet obj = this;\n\t\t// Generate markup from object data\n\t\tlet markup = \"\";\n\t\t// Make thumbnail row\n\t\tmarkup += '<div class=\"carousel-thumbs\">' + \n\t\t\t'<div class=\"carousel-thumbs-inner\">' + \n\t\t\t\t'<ul class=\"clearfix\">';\n\t\tfor (let i = 0; i < this.data.length; i++) {\n\t\t\tvar current = i == 0 ? ' class=\"current\"' : '';\n\t\t\tmarkup += '<li><a href=\"javascript:;\" data-itemkey=\"' + i + '\"' + current + '><img src=\"' + this.data[i].thumbnail + '\" /></a></li>';\n\t\t}\n\t\tmarkup += '</ul>' +\n\t\t\t'</div>' +\n\t\t'</div>';\n\n\t\t// Make content area\n\t\tmarkup += '<div class=\"carousel-content\">' +\n\t\t\t'<div class=\"carousel-content-inner\">' +\n\t\t\t\t'<div class=\"carousel-content-text stage-left\"></div>' +\n\t\t\t\t'<div class=\"carousel-content-text current\">' + this.data[0].content + '</div>' +\n\t\t\t\t'<div class=\"carousel-content-text stage-right\"></div>' +\n\t\t\t'</div>' +\n\t\t'</div>';\n\n\t\t// Make nav\n\t\tmarkup += '<div class=\"carousel-nav\">' +\n\t\t\t'<ul class=\"clearfix\">' +\n\t\t\t\t'<li class=\"nav-left\">' +\n\t\t\t\t\t'<a href=\"javascript:;\">&larr; Previous</a>' +\n\t\t\t\t'</li>' +\n\t\t\t\t'<li class=\"nav-right\">' +\n\t\t\t\t\t'<a href=\"javascript:;\">Next &rarr;</a>' +\n\t\t\t\t'</li>' +\n\t\t\t'</ul>' +\n\t\t'</div>';\n\n\t\tthis.container.html(markup);\n\n\t\t// Assign interactivity\n\t\tthis.container.find('.carousel-thumbs a').click(function(){\n\t\t\tif (obj.container.hasClass('animating')) return false;\n\t\t\tvar currentIndex = obj.container.find('.carousel-thumbs a.current').data('itemkey');\n\t\t\tobj.container.find('.carousel-thumbs a.current').removeClass('current');\n\t\t\t$(this).addClass('current');\n\t\t\tvar newIndex = $(this).data('itemkey');\n\t\t\tvar direction = currentIndex < newIndex ? \"right\" : \"left\";\n\n\t\t\tobj.goToStory(newIndex, direction);\n\t\t\tobj.centerIcon();\n\t\t});\n\t\tthis.container.find('.nav-right').click(function(){obj.advanceStory('next')});\n\t\tthis.container.find('.nav-left').click(function(){obj.advanceStory('prev')});\n\t\tthis.container.find('.carousel-thumbs').swipe({\n\t\t\tswipeLeft: function(){obj.advanceStory('next')}, \n\t\t\tswipeRight: function(){obj.advanceStory('prev')}, \n\t\t\texcludedElements: \"button, input, select, textarea, .noSwipe\"\n\t\t});\n\t\t$(window).resize(function(){obj.centerIcon()});\n\t\tthis.centerIcon();\n\t}\n\n\tgoToStory(key, direction) {\n\t\tlet obj = this;\n\t\tif (this.container.hasClass('animating')) return false;\n\t\tthis.container.addClass('animating');\n\n\t\tif (direction == \"left\") {\n\t\t\t// 1. See if staged div has the content loaded\n\t\t\tthis.container.find('.carousel-content-text.stage-left').html(this.data[key].content);\n\t\t\t// 2. Animate center and left divs\n\t\t\tthis.container.find('.carousel-content-text.current, .carousel-content-text.stage-left').addClass('anim-right');\n\t\t\twindow.setTimeout(function(){\n\t\t\t\t// 3. Remove stage-right, rename others\n\t\t\t\tobj.container.find('.carousel-content-text.stage-right').remove();\n\t\t\t\tobj.container.find('.carousel-content-text.current').removeClass('current').removeClass('anim-right').addClass('stage-right');\n\t\t\t\tobj.container.find('.carousel-content-text.stage-left').removeClass('stage-left').removeClass('anim-right').addClass('current');\n\t\t\t\t// 4. Re-add stage-left\n\t\t\t\tlet newdiv = $('<div/>').addClass('carousel-content-text stage-left');\n\t\t\t\tlet dest = obj.container.find('.carousel-content-inner');\n\t\t\t\tnewdiv.prependTo(dest);\n\n\t\t\t\tobj.container.removeClass('animating');\n\t\t\t}, 250);\n\t\t} else {\n\t\t\t// 1. See if staged div has the content loaded\n\t\t\tthis.container.find('.carousel-content-text.stage-right').html(this.data[key].content);\n\t\t\t// 2. Animate center and right divs\n\t\t\tthis.container.find('.carousel-content-text.current, .carousel-content-text.stage-right').addClass('anim-left');\n\t\t\twindow.setTimeout(function(){\n\t\t\t\t// 3. Remove stage-left, rename others\n\t\t\t\tobj.container.find('.carousel-content-text.stage-left').remove();\n\t\t\t\tobj.container.find('.carousel-content-text.current').removeClass('current').removeClass('anim-left').addClass('stage-left');\n\t\t\t\tobj.container.find('.carousel-content-text.stage-right').removeClass('stage-right').removeClass('anim-left').addClass('current');\n\t\t\t\t// 4. Re-add stage-right\n\t\t\t\tlet newdiv = $('<div/>').addClass('carousel-content-text stage-right');\n\t\t\t\tlet dest = obj.container.find('.carousel-content-inner');\n\t\t\t\tnewdiv.appendTo(dest);\n\n\t\t\t\tobj.container.removeClass('animating');\n\t\t\t}, 250);\n\t\t}\n\t}\n\n\tcenterIcon() {\n\t\t// width of container\n\t\tlet container_width = this.container.find('.carousel-thumbs').width();\n\t\tlet center = container_width/2;\n\t\t// distance of icon from left edge of icon row\n\t\tlet offset = this.container.find('.carousel-thumbs a.current').offset().left - this.container.find('.carousel-thumbs ul').offset().left;\n\t\t// width of icon element\n\t\tlet icon_width = this.container.find('.carousel-thumbs a.current').parent('li').width();\n\t\t// reposition parent ul\n\t\tthis.container.find('.carousel-thumbs ul').css('left', center-offset-(icon_width/2));\n\t}\n\n\tadvanceStory(direction) {\n\t\tif (direction == 'next') {\n\t\t\tlet nextIcon = this.container.find('.carousel-thumbs a.current').parent('li').next().find('a');\n\t\t\tif (nextIcon.length > 0) nextIcon.click();\n\t\t\telse this.container.find('.carousel-thumbs li:first-child a').click();\n\t\t} else if (direction == 'prev') {\n\t\t\tlet prevIcon = this.container.find('.carousel-thumbs a.current').parent('li').prev().find('a');\n\t\t\tif (prevIcon.length > 0) prevIcon.click();\n\t\t\telse this.container.find('.carousel-thumbs li:last-child a').click();\n\t\t}\n\n\t\t// scroll up if necessary \n\t\tif (this.container.offset().top < $(document).scrollTop()){\n\t\t\twindow.scrollTo(0, this.container.offset().top);\n\t\t}\n\t}\n}"]}